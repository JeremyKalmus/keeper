# Data Seed Registry
# Machine-readable registry of types and data shapes
# Keeper uses this to enforce schema consistency

types:
  Tab:  # discovered
    location: dashboard/src/App.tsx
    definition: "'seeds' | 'decisions'"
    usage: "Controls main tab switching"

  RealtimeState:  # discovered
    location: dashboard/src/hooks/useRealtimeUpdates.ts
    fields:
      - connected: boolean
      - lastUpdate: Date | null
      - lastEvent: unknown | null
    usage: "SSE connection state tracking"

  SidebarProps:  # discovered
    location: dashboard/src/components/Sidebar.tsx
    fields:
      - vaults: string[]
      - selectedVault: string | null
      - selectedSeed: string | null
      - onSelectVault: "(vault: string | null) => void"
      - onSelectSeed: "(seed: string | null) => void"
      - getSeeds: "(vault: string) => string[]"

  SeedDetailProps:  # discovered
    location: dashboard/src/components/SeedDetail.tsx
    fields:
      - name: string
      - vault: string
      - data: unknown

  Decision:  # discovered
    location: dashboard/src/components/DecisionLog.tsx
    fields:
      - id: string
      - summary: string | null

api_responses:
  VaultListResponse:  # discovered
    shape: "{ vaults: Array<{ name: string, file: string }> }"
    endpoint: "GET /api/vaults"

  VaultDetailResponse:  # discovered
    shape: "{ name: string, content: object }"
    endpoint: "GET /api/vault/:name"

  DecisionListResponse:  # discovered
    shape: "{ decisions: Array<{ id: string, file: string, summary: string | null }> }"
    endpoint: "GET /api/decisions"

  DecisionDetailResponse:  # discovered
    shape: "{ id: string, content: object }"
    endpoint: "GET /api/decision/:id"

sse_events:
  connected:  # discovered
    shape: "{ type: 'connected' }"
  vault-updated:  # discovered
    shape: "{ type: 'vault-updated', payload: { file: string } }"
  decision-updated:  # discovered
    shape: "{ type: 'decision-updated', payload: { file: string } }"

yaml_parsing:
  library: yaml  # discovered
  version: "^2.3.4"
  functions:
    parseYamlFile: "async (filepath: string) => Promise<unknown>"
    listYamlFiles: "async (dir: string) => Promise<string[]>"
